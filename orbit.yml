commands:
  - use: install
    run:
      - go get -u github.com/golang/dep/cmd/dep
      - dep ensure
      - go get -u github.com/golang/lint/golint
      - go get -u github.com/alecthomas/gometalinter
      - go get -u github.com/client9/misspell/cmd/misspell
      - go get -u github.com/gordonklaus/ineffassign
      - go get -u golang.org/x/tools/cmd/goimports
      - go get -u github.com/tsenart/deadcode
  - use: fmt
    run:
      - go fmt ./...
  - use: lint
    run:
      - gometalinter --disable-all -E vet -E gofmt -E misspell -E ineffassign -E goimports -E deadcode --tests --vendor ./...
  - use: test
    run:
      - go test -race ./...